<div class="tactical-status-panel">
  <div class="tactical-header">
    <span class="tactical-title">⚔️ {{ sceneLabel }}</span>
    <button 
      mat-icon-button 
      class="collapse-toggle"
      (click)="toggleCollapse()"
      [attr.aria-label]="isCollapsed ? 'Expand tactical status panel' : 'Collapse tactical status panel'"
      matTooltip="{{ isCollapsed ? 'Expand' : 'Collapse' }} tactical status">
      <mat-icon>{{ isCollapsed ? 'expand_more' : 'expand_less' }}</mat-icon>
    </button>
  </div>
  
  <div class="tactical-content" [class.collapsed]="isCollapsed">
    <!-- Health/Energy/Action Points in compact grid -->
    <div class="status-grid">
      <app-window-widget
        *ngFor="let keyValue of status.derivedAttributes.items"
        [keyValue]="keyValue"
        class="tactical-card"
      ></app-window-widget>
    </div>
    
    <!-- Equipment info -->
    <div class="equipment-section">
      <div class="equipment-item">
        <div class="equipment-info">
          <span class="equipment-label">🗡️</span>
          <span class="equipment-name">{{ status.weapon.identity.label }}</span>
        </div>
        <button 
          *ngIf="status.weapon.identity.name !== 'unarmedWeapon'"
          mat-icon-button
          class="unequip-button"
          (click)="onUnequipWeapon()"
          matTooltip="Unequip weapon">
          U
        </button>
      </div>
      <div class="equipment-item">
        <div class="equipment-info">
          <span class="equipment-label">🛡️</span>
          <span class="equipment-name">{{ status.armor.identity.label }}</span>
        </div>
        <button 
          *ngIf="status.armor.identity.name !== 'clothArmor'"
          mat-icon-button
          class="unequip-button"
          (click)="onUnequipArmor()"
          matTooltip="Strip armor">
          U
        </button>
      </div>
    </div>
    
    <!-- Visibility status -->
    <div class="visibility-section">
      <span [ngSwitch]="status.visibility.value" class="visibility-status">
        <mat-icon
          *ngSwitchCase="'VISIBLE'"
          fontIcon="visibility"
          matTooltip="Visible"
        ></mat-icon>
        <mat-icon
          *ngSwitchCase="'HIDDEN'"
          fontIcon="visibility_off"
          matTooltip="Hidden"
        ></mat-icon>
        <mat-icon
          *ngSwitchCase="'DISGUISED'"
          fontIcon="face"
          matTooltip="Disguised"
        ></mat-icon>
      </span>
      <span class="visibility-text">{{ status.visibility.value | titlecase }}</span>
    </div>
  </div>
</div>